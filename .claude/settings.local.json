{
  "permissions": {
    "allow": [
      "Bash(cd:*)",
      "Bash(grep:*)",
      "Bash(python3 << 'PYEOF'\nimport os\n\nTARGET_DIR = \"/c/Projects/Delivery-Hub/force-app/main/default/customMetadata\"\n\ndef make_val\\(v\\):\n    if v is None:\n        return '        <value xsi:nil=\"true\"/>'\n    return f'        <value xsi:type=\"xsd:string\">{v}</value>'\n\ndef write_stage\\(filename, label, api_value, sort, card, hbg, ht, owner, phase, terminal, blocked, attention, fwd, bk\\):\n    xml = f\"\"\"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<CustomMetadata xmlns=\"http://soap.sforce.com/2006/04/metadata\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\">\n    <label>{label}</label>\n    <protected>false</protected>\n    <values>\n        <field>WorkflowType__c</field>\n        <value xsi:type=\"xsd:string\">Software_Delivery</value>\n    </values>\n    <values>\n        <field>ApiValue__c</field>\n        <value xsi:type=\"xsd:string\">{api_value}</value>\n    </values>\n    <values>\n        <field>SortOrder__c</field>\n        <value xsi:type=\"xsd:double\">{sort}</value>\n    </values>\n    <values>\n        <field>CardColor__c</field>\n        <value xsi:type=\"xsd:string\">{card}</value>\n    </values>\n    <values>\n        <field>HeaderBgColor__c</field>\n        <value xsi:type=\"xsd:string\">{hbg}</value>\n    </values>\n    <values>\n        <field>HeaderTextColor__c</field>\n        <value xsi:type=\"xsd:string\">{ht}</value>\n    </values>\n    <values>\n        <field>OwnerPersona__c</field>\n        <value xsi:type=\"xsd:string\">{owner}</value>\n    </values>\n    <values>\n        <field>Phase__c</field>\n        <value xsi:type=\"xsd:string\">{phase}</value>\n    </values>\n    <values>\n        <field>IsTerminal__c</field>\n        <value xsi:type=\"xsd:boolean\">{\"true\" if terminal else \"false\"}</value>\n    </values>\n    <values>\n        <field>IsBlockedState__c</field>\n        <value xsi:type=\"xsd:boolean\">{\"true\" if blocked else \"false\"}</value>\n    </values>\n    <values>\n        <field>IsAttentionState__c</field>\n        <value xsi:type=\"xsd:boolean\">{\"true\" if attention else \"false\"}</value>\n    </values>\n    <values>\n        <field>IsVisibleByDefault__c</field>\n        <value xsi:type=\"xsd:boolean\">true</value>\n    </values>\n    <values>\n        <field>AllowedForwardTransitions__c</field>\n{make_val\\(fwd\\)}\n    </values>\n    <values>\n        <field>AllowedBacktrackTransitions__c</field>\n{make_val\\(bk\\)}\n    </values>\n</CustomMetadata>\n\"\"\"\n    path = os.path.join\\(TARGET_DIR, filename + \".md-meta.xml\"\\)\n    with open\\(path, \"w\", encoding=\"utf-8\", newline=\"\\\\n\"\\) as f:\n        f.write\\(xml\\)\n\nstages = [\n    \\(\"WorkflowStage.SD_01_Backlog\",\"SD - Backlog\",\"Backlog\",1,\"#F3F4F6\",\"rgba\\(243,244,246,0.8\\)\",\"#1F2937\",\"Consultant\",\"Planning\",False,False,False,\"Scoping In Progress,Clarification Requested \\(Pre-Dev\\),Ready for Sizing,Ready for Prioritization,Proposal Requested,Ready for Tech Review,Ready for Client Approval\",\"Cancelled\"\\),\n    \\(\"WorkflowStage.SD_02_Scoping_In_Progress\",\"SD - Scoping In Progress\",\"Scoping In Progress\",2,\"#FEF3C7\",\"rgba\\(254,243,199,0.5\\)\",\"#D97706\",\"Consultant\",\"Planning\",False,False,False,\"Clarification Requested \\(Pre-Dev\\),Ready for Sizing,Ready for Prioritization,Proposal Requested,Ready for Tech Review,Ready for Client Approval\",\"Backlog,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_03_Clarification_Requested_PreDev\",\"SD - Clarification Requested \\(Pre-Dev\\)\",\"Clarification Requested \\(Pre-Dev\\)\",3,\"#E0F2FE\",\"rgba\\(254,226,226,0.5\\)\",\"#DC2626\",\"Client\",\"Planning\",False,False,False,\"Providing Clarification,Ready for Sizing,Ready for Prioritization,Proposal Requested,Ready for Tech Review,Ready for Client Approval\",\"Scoping In Progress,Backlog,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_04_Providing_Clarification\",\"SD - Providing Clarification\",\"Providing Clarification\",4,\"#DBEAFE\",\"rgba\\(254,226,226,0.5\\)\",\"#DC2626\",\"Client\",\"Planning\",False,False,False,\"Ready for Sizing,Ready for Prioritization,Proposal Requested,Ready for Tech Review,Ready for Client Approval\",\"Clarification Requested \\(Pre-Dev\\),Scoping In Progress,Backlog,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_05_Ready_for_Sizing\",\"SD - Ready for Sizing\",\"Ready for Sizing\",5,\"#E0F2FE\",\"rgba\\(224,242,254,0.5\\)\",\"#0284C7\",\"Developer\",\"Planning\",False,False,False,\"Sizing Underway,Ready for Prioritization,Proposal Requested,Ready for Tech Review,Ready for Client Approval\",\"Providing Clarification,Clarification Requested \\(Pre-Dev\\),Scoping In Progress,Backlog,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_06_Sizing_Underway\",\"SD - Sizing Underway\",\"Sizing Underway\",6,\"#FFEDD5\",\"rgba\\(255,237,213,0.5\\)\",\"#EA580C\",\"Developer\",\"Planning\",False,False,False,\"Ready for Prioritization,Proposal Requested,Ready for Tech Review,Ready for Client Approval\",\"Ready for Sizing,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_07_Ready_for_Prioritization\",\"SD - Ready for Prioritization\",\"Ready for Prioritization\",7,\"#E0F2FE\",\"rgba\\(224,242,254,0.5\\)\",\"#0284C7\",\"Client\",\"Planning\",False,False,False,\"Prioritizing,Proposal Requested,Ready for Tech Review,Ready for Client Approval\",\"Sizing Underway,Ready for Sizing,Providing Clarification,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_08_Prioritizing\",\"SD - Prioritizing\",\"Prioritizing\",8,\"#DBEAFE\",\"rgba\\(224,242,254,0.5\\)\",\"#0284C7\",\"Client\",\"Planning\",False,False,False,\"Proposal Requested,Ready for Tech Review,Ready for Client Approval\",\"Ready for Prioritization,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_09_Proposal_Requested\",\"SD - Proposal Requested\",\"Proposal Requested\",9,\"#E0F2FE\",\"rgba\\(255,237,213,0.5\\)\",\"#EA580C\",\"Developer\",\"Planning\",False,False,False,\"Drafting Proposal,Ready for Tech Review,Ready for Client Approval\",\"Prioritizing,Ready for Prioritization,Sizing Underway,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_10_Drafting_Proposal\",\"SD - Drafting Proposal\",\"Drafting Proposal\",10,\"#FFEDD5\",\"rgba\\(255,237,213,0.5\\)\",\"#EA580C\",\"Developer\",\"Planning\",False,False,False,\"Ready for Tech Review,Ready for Client Approval\",\"Proposal Requested,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_11_Ready_for_Tech_Review\",\"SD - Ready for Tech Review\",\"Ready for Tech Review\",11,\"#E0F2FE\",\"rgba\\(254,243,199,0.5\\)\",\"#D97706\",\"Consultant\",\"Approval\",False,False,False,\"Tech Reviewing,Ready for Client Approval,Ready for Development\",\"Drafting Proposal,Proposal Requested,Sizing Underway,Ready for Prioritization,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_12_Tech_Reviewing\",\"SD - Tech Reviewing\",\"Tech Reviewing\",12,\"#FEF3C7\",\"rgba\\(254,243,199,0.5\\)\",\"#D97706\",\"Consultant\",\"Approval\",False,False,False,\"Ready for Client Approval,Ready for Development\",\"Ready for Tech Review,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_13_Ready_for_Client_Approval\",\"SD - Ready for Client Approval\",\"Ready for Client Approval\",13,\"#E0F2FE\",\"rgba\\(254,243,199,0.5\\)\",\"#D97706\",\"Client\",\"Approval\",False,False,True,\"In Client Approval,Ready for Development\",\"Tech Reviewing,Ready for Tech Review,Drafting Proposal,Sizing Underway,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_14_In_Client_Approval\",\"SD - In Client Approval\",\"In Client Approval\",14,\"#DBEAFE\",\"rgba\\(254,243,199,0.5\\)\",\"#D97706\",\"Client\",\"Approval\",False,False,True,\"Ready for Development\",\"Ready for Client Approval,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_15_Ready_for_Development\",\"SD - Ready for Development\",\"Ready for Development\",15,\"#DCFCE7\",\"rgba\\(220,252,231,0.5\\)\",\"#16A34A\",\"Developer\",\"Development\",False,False,False,\"In Development\",\"In Client Approval,Ready for Client Approval,Tech Reviewing,Prioritizing,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_16_In_Development\",\"SD - In Development\",\"In Development\",16,\"#FF9100\",\"rgba\\(255,145,0,0.3\\)\",\"#C2410C\",\"Developer\",\"Development\",False,False,False,\"Dev Clarification Requested,Dev Blocked,Ready for Scratch Test,Ready for QA,Ready for Deployment\",\"Ready for Development,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_17_Dev_Clarification_Requested\",\"SD - Dev Clarification Requested\",\"Dev Clarification Requested\",17,\"#FEE2E2\",\"rgba\\(254,226,226,0.5\\)\",\"#DC2626\",\"Client\",\"Development\",False,False,False,\"Providing Dev Clarification\",\"In Development,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_18_Providing_Dev_Clarification\",\"SD - Providing Dev Clarification\",\"Providing Dev Clarification\",18,\"#DBEAFE\",\"rgba\\(254,226,226,0.5\\)\",\"#DC2626\",\"Client\",\"Development\",False,False,False,\"Back For Development\",\"Dev Clarification Requested,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_19_Dev_Blocked\",\"SD - Dev Blocked\",\"Dev Blocked\",19,\"#EF4444\",\"rgba\\(254,202,202,0.6\\)\",\"#991B1B\",\"Developer\",\"Development\",False,True,False,\"In Development,Providing Dev Clarification\",\"In Development,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_20_Back_For_Development\",\"SD - Back For Development\",\"Back For Development\",20,\"#EF4444\",\"rgba\\(254,202,202,0.6\\)\",\"#991B1B\",\"Developer\",\"Development\",False,True,False,\"In Development\",\"Dev Clarification Requested,In Development,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_21_Ready_for_Scratch_Test\",\"SD - Ready for Scratch Test\",\"Ready for Scratch Test\",21,\"#E0F2FE\",\"rgba\\(219,234,254,0.5\\)\",\"#1E40AF\",\"QA\",\"Testing\",False,False,False,\"Scratch Testing,Ready for QA,Ready for Internal UAT,Ready for Client UAT\",\"In Development,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_22_Scratch_Testing\",\"SD - Scratch Testing\",\"Scratch Testing\",22,\"#22C55E\",\"rgba\\(219,234,254,0.5\\)\",\"#1E40AF\",\"QA\",\"Testing\",False,False,False,\"Ready for QA,Ready for Internal UAT,Ready for Client UAT,Back For Development\",\"Ready for Scratch Test,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_23_Ready_for_QA\",\"SD - Ready for QA\",\"Ready for QA\",23,\"#E0F2FE\",\"rgba\\(219,234,254,0.5\\)\",\"#1E40AF\",\"QA\",\"Testing\",False,False,False,\"QA In Progress,Ready for Internal UAT,Ready for Client UAT\",\"Scratch Testing,Ready for Scratch Test,In Development,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_24_QA_In_Progress\",\"SD - QA In Progress\",\"QA In Progress\",24,\"#22C55E\",\"rgba\\(191,219,254,0.5\\)\",\"#1D4ED8\",\"QA\",\"Testing\",False,False,False,\"Ready for Internal UAT,Ready for Client UAT,Back For Development\",\"Ready for QA,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_25_Ready_for_Internal_UAT\",\"SD - Ready for Internal UAT\",\"Ready for Internal UAT\",25,\"#E0F2FE\",\"rgba\\(219,234,254,0.5\\)\",\"#1E40AF\",\"Consultant\",\"Testing\",False,False,False,\"Internal UAT,Ready for Client UAT\",\"QA In Progress,Ready for QA,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_26_Internal_UAT\",\"SD - Internal UAT\",\"Internal UAT\",26,\"#1D4ED8\",\"rgba\\(191,219,254,0.5\\)\",\"#1D4ED8\",\"Consultant\",\"Testing\",False,False,False,\"Ready for Client UAT,Back For Development\",\"Ready for Internal UAT,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_27_Ready_for_Client_UAT\",\"SD - Ready for Client UAT\",\"Ready for Client UAT\",27,\"#E0F2FE\",\"rgba\\(191,219,254,0.5\\)\",\"#2563EB\",\"Client\",\"UAT\",False,False,True,\"In Client UAT,Ready for UAT Sign-off,Ready for Merge,Ready for Deployment\",\"Internal UAT,Ready for Internal UAT,QA In Progress,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_28_In_Client_UAT\",\"SD - In Client UAT\",\"In Client UAT\",28,\"#2563EB\",\"rgba\\(191,219,254,0.5\\)\",\"#2563EB\",\"Client\",\"UAT\",False,False,True,\"Ready for UAT Sign-off,Ready for Merge,Ready for Deployment,Back For Development\",\"Ready for Client UAT,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_29_Ready_for_UAT_Signoff\",\"SD - Ready for UAT Sign-off\",\"Ready for UAT Sign-off\",29,\"#E0F2FE\",\"rgba\\(221,214,254,0.5\\)\",\"#7C3AED\",\"Client\",\"UAT\",False,False,True,\"Processing Sign-off,Ready for Merge,Ready for Deployment\",\"In Client UAT,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_30_Processing_Signoff\",\"SD - Processing Sign-off\",\"Processing Sign-off\",30,\"#DBEAFE\",\"rgba\\(221,214,254,0.5\\)\",\"#7C3AED\",\"Client\",\"UAT\",False,False,False,\"Ready for Merge,Ready for Deployment,Back For Development\",\"Ready for UAT Sign-off,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_31_Ready_for_Merge\",\"SD - Ready for Merge\",\"Ready for Merge\",31,\"#F3E8FF\",\"rgba\\(237,233,254,0.5\\)\",\"#6D28D9\",\"Consultant\",\"Deployment\",False,False,False,\"Merging,Ready for Deployment\",\"Processing Sign-off,Ready for UAT Sign-off,In Client UAT,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_32_Merging\",\"SD - Merging\",\"Merging\",32,\"#7C3AED\",\"rgba\\(237,233,254,0.5\\)\",\"#6D28D9\",\"Consultant\",\"Deployment\",False,False,False,\"Ready for Deployment\",\"Ready for Merge,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_33_Ready_for_Deployment\",\"SD - Ready for Deployment\",\"Ready for Deployment\",33,\"#F3E8FF\",\"rgba\\(237,233,254,0.5\\)\",\"#6D28D9\",\"Consultant\",\"Deployment\",False,False,False,\"Deploying\",\"Merging,Ready for Merge,Processing Sign-off,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_34_Deploying\",\"SD - Deploying\",\"Deploying\",34,\"#7C3AED\",\"rgba\\(237,233,254,0.5\\)\",\"#6D28D9\",\"Consultant\",\"Deployment\",False,False,False,\"Deployed to Prod\",\"Ready for Deployment,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_35_Deployed_to_Prod\",\"SD - Deployed to Prod\",\"Deployed to Prod\",35,\"#059669\",\"rgba\\(209,250,229,0.5\\)\",\"#059669\",\"System\",\"Deployment\",False,False,False,\"Done\",\"Deploying,Ready for Deployment,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_36_Done\",\"SD - Done\",\"Done\",36,\"#374151\",\"rgba\\(229,231,235,0.5\\)\",\"#374151\",\"All\",\"Done\",True,False,False,None,\"Deployed to Prod,Cancelled\"\\),\n    \\(\"WorkflowStage.SD_37_Cancelled\",\"SD - Cancelled\",\"Cancelled\",37,\"#9CA3AF\",\"rgba\\(229,231,235,0.5\\)\",\"#6B7280\",\"All\",\"Done\",True,False,False,\"Backlog,Ready for Sizing\",\"Backlog,Ready for Sizing,Ready for Development\"\\),\n]\n\nfor args in stages:\n    write_stage\\(*args\\)\n\nfiles = [f for f in os.listdir\\(TARGET_DIR\\) if f.startswith\\(\"WorkflowStage.SD_\"\\)]\nprint\\(f\"Created {len\\(files\\)} SD stage files\"\\)\nPYEOF)",
      "Bash(python3:*)",
      "Bash(head:*)",
      "Bash(node:*)",
      "Bash(cd /c/Projects/Delivery-Hub && git push -u origin feature/gb226-workflow-platform 2>&1)",
      "Bash(ls:*)",
      "Bash(cd /c/Projects/Delivery-Hub && git push origin feature/gb226-workflow-platform 2>&1)"
    ]
  }
}
